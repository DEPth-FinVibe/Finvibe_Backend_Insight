# 로컬 테스트용 프로필 (infra/docker-compose.yml 기준)
# 실행 예시 (PowerShell): $env:SPRING_PROFILES_ACTIVE="local"; ./gradlew bootRun
spring:
  config:
    import:
      - optional:classpath:application-kafka.yml

  datasource:
    url: jdbc:mariadb://localhost:3306/finvibe
    username: finvibe
    password: finvibe
    driver-class-name: org.mariadb.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: create
    show-sql: true
    properties:
      hibernate:
        format_sql: true

  data:
    redis:
      host: localhost
    port: 6379

  kafka:
    bootstrap-servers: localhost:9092
    consumer:
      group-id: finvibe-investment-local
      properties:
        spring.json.trusted.packages: "depth.finvibe.investment.*"

  mongodb:
    uri: mongodb://localhost:27017/finvibe

  logging:
    level:
      root: info
      depth.finvibe.investment: debug

market:
  kis:
    base-url: ${KIS_BASE_URL:https://openapi.koreainvestment.com:9443}
    user-id: ${KIS_USER_ID}
    credentials:
      - app-key: ${KIS_API_KEY}
        app-secret: ${KIS_API_SECRET}
    websocket:
      url: ${KIS_WEBSOCKET_URL:ws://ops.koreainvestment.com:21000}
      # 실전투자: ws://ops.koreainvestment.com:21000
      # 모의투자: ws://ops.koreainvestment.com:31000

security:
  jwt:
    hmac-secret: ${JWT_HMAC_SECRET:testsecret12312312313123123123}


langchain4j:
  google-ai-gemini:
    chat-model:
      api-key: AIzaSyDFgqKh--DbLNNOGwpIpOeSYK9uSTc2dXU
      model-name: gemini-2.5-flash